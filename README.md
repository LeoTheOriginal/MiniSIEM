# ğŸ›¡ï¸ miniSIEM - Security Information & Event Management System

<div align="center">

![Python](https://img.shields.io/badge/Python-3.10+-blue?logo=python&logoColor=white)
![Flask](https://img.shields.io/badge/Flask-3.x-green?logo=flask&logoColor=white)
![Bootstrap](https://img.shields.io/badge/Bootstrap-5.3-purple?logo=bootstrap&logoColor=white)
![License](https://img.shields.io/badge/License-MIT-yellow)

**Kompletny system monitorowania bezpieczeÅ„stwa infrastruktury IT**

[Architektura](./ARCHITECTURE.md) â€¢ [API](./API.md) â€¢ [Instalacja](./DEPLOYMENT.md) â€¢ [BezpieczeÅ„stwo](./SECURITY.md)

</div>

---

## ğŸ“‹ Spis TreÅ›ci

- [Wprowadzenie](#-wprowadzenie)
- [FunkcjonalnoÅ›ci](#-funkcjonalnoÅ›ci)
- [Stos Technologiczny](#-stos-technologiczny)
- [Szybki Start](#-szybki-start)
- [Struktura Projektu](#-struktura-projektu)
- [ModuÅ‚y Systemu](#-moduÅ‚y-systemu)
- [PrzepÅ‚yw Danych](#-przepÅ‚yw-danych)

---

## ğŸ¯ Wprowadzenie

**miniSIEM** to funkcjonalny prototyp systemu klasy SIEM (Security Information & Event Management), zaprojektowany do:

- ğŸ“Š **Monitorowania** stanu infrastruktury IT w czasie rzeczywistym
- ğŸ“ **Zbierania** logÃ³w bezpieczeÅ„stwa z systemÃ³w Windows i Linux
- ğŸ” **Wykrywania** incydentÃ³w bezpieczeÅ„stwa i atakÃ³w
- ğŸš¨ **Korelacji** zdarzeÅ„ miÄ™dzy wieloma hostami
- ğŸ“ˆ **Wizualizacji** alertÃ³w i statystyk zagroÅ¼eÅ„

### Kluczowe cechy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           miniSIEM Dashboard                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   ğŸ§ Linux  â”‚  â”‚  ğŸªŸ Windows â”‚  â”‚   ğŸ§ Linux  â”‚  â”‚  ğŸªŸ Windows â”‚    â”‚
â”‚  â”‚  Kali VM   â”‚  â”‚   Desktop   â”‚  â”‚   Server    â”‚  â”‚   Server    â”‚    â”‚
â”‚  â”‚  SSH Logs  â”‚  â”‚ Event 4625  â”‚  â”‚  Auth Logs  â”‚  â”‚  Security   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         â”‚                â”‚                â”‚                â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                  â”‚                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚     Log Collector         â”‚                        â”‚
â”‚                    â”‚   SSH / PowerShell        â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                  â”‚                                      â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚         â–¼                        â–¼                        â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Parquet   â”‚         â”‚   SQLite    â”‚         â”‚    Threat   â”‚       â”‚
â”‚  â”‚   Storage   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Database  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    Intel    â”‚       â”‚
â”‚  â”‚  (Forensic) â”‚         â”‚   (State)   â”‚         â”‚  (IP Reg.)  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                  â”‚                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚      Log Analyzer         â”‚                        â”‚
â”‚                    â”‚  Cross-Host Correlation   â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                  â”‚                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚     Real-Time Dashboard   â”‚                        â”‚
â”‚                    â”‚       Chart.js + API      â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ FunkcjonalnoÅ›ci

### ğŸ” ModuÅ‚ BezpieczeÅ„stwa (Authentication & Access Control)

| Funkcja | Opis | Status |
|---------|------|--------|
| Hashowanie haseÅ‚ | `werkzeug.security` (PBKDF2-SHA256) | âœ… |
| Sesje uÅ¼ytkownikÃ³w | Flask-Login z remember me | âœ… |
| Ochrona CSRF | Token w meta tagu + headers JS | âœ… |
| Kontrola dostÄ™pu | `@login_required` na API i widokach | âœ… |

### ğŸ–¥ï¸ ZarzÄ…dzanie Hostami (Asset Management)

| Funkcja | Opis | Status |
|---------|------|--------|
| CRUD hostÃ³w | Dodawanie/edycja/usuwanie maszyn | âœ… |
| Live Health-Check | CPU, RAM, HDD, Uptime | âœ… |
| Multi-OS Support | Linux (SSH) + Windows (PowerShell) | âœ… |
| Auto-detection | Automatyczne rozpoznawanie systemu | âœ… |

### ğŸ“Š Kolekcja LogÃ³w (Log Collection & Retention)

| Funkcja | Opis | Status |
|---------|------|--------|
| Linux SSH Logs | journalctl via paramiko | âœ… |
| Windows Event Logs | Event ID 4625 via PowerShell | âœ… |
| Incremental Fetch | Pobieranie tylko nowych wpisÃ³w | âœ… |
| Forensic Storage | Parquet (niemodyfikowalne archiwa) | âœ… |

### ğŸ§  Threat Intelligence & Correlation

| Funkcja | Opis | Status |
|---------|------|--------|
| IP Reputation | TRUSTED / UNKNOWN / BANNED | âœ… |
| Auto-Discovery | Automatyczne dodawanie nowych IP | âœ… |
| Cross-Host Correlation | Ban przy ataku na 2+ hosty w 10 min | âœ… |
| Severity Levels | CRITICAL / WARNING / INFO | âœ… |

### ğŸ“ˆ Dashboard & Wizualizacja

| Funkcja | Opis | Status |
|---------|------|--------|
| Real-Time Alerts | Tabela z live updates | âœ… |
| Chart.js Graphs | Alerty/h + Top 5 IP | âœ… |
| Dark Mode | Bootstrap 5.3 color modes | âœ… |
| Responsive Design | Mobile-friendly UI | âœ… |

---

## ğŸ› ï¸ Stos Technologiczny

### Backend

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BACKEND                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    Flask    â”‚â”€â”€â”€â”€â–¶â”‚   SQLAlchemyâ”‚â”€â”€â”€â”€â–¶â”‚   SQLite    â”‚   â”‚
â”‚  â”‚   (WSGI)    â”‚     â”‚    (ORM)    â”‚     â”‚    (DB)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Flask-Login â”‚     â”‚  Flask-WTF  â”‚     â”‚Flask-Migrateâ”‚   â”‚
â”‚  â”‚   (Auth)    â”‚     â”‚   (CSRF)    â”‚     â”‚(Migrations) â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Paramiko   â”‚     â”‚   Pandas    â”‚     â”‚  PyArrow    â”‚   â”‚
â”‚  â”‚   (SSH)     â”‚     â”‚ (DataFrames)â”‚     â”‚  (Parquet)  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Frontend

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FRONTEND                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Vanilla JavaScript                 â”‚   â”‚
â”‚  â”‚              (ES6 Modules, Fetch API)                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚         â–¼                 â–¼                 â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  dashboard  â”‚   â”‚    admin    â”‚   â”‚     api     â”‚      â”‚
â”‚  â”‚     .js     â”‚   â”‚     .js     â”‚   â”‚     .js     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Bootstrap 5.3 + Font Awesome            â”‚   â”‚
â”‚  â”‚              (Dark Mode, Responsive Grid)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     Chart.js 4.x                     â”‚   â”‚
â”‚  â”‚              (Line Charts, Bar Charts)               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Szybki Start

### Wymagania

- Python 3.10+
- pip
- (Opcjonalnie) VMware/VirtualBox z Kali Linux

### Instalacja

```bash
# 1. Klonowanie repozytorium
git clone https://github.com/your-repo/minisiem.git
cd minisiem

# 2. Utworzenie Å›rodowiska wirtualnego
python -m venv venv
source venv/bin/activate  # Linux/Mac
# lub: venv\Scripts\activate  # Windows

# 3. Instalacja zaleÅ¼noÅ›ci
pip install -r requirements.txt

# 4. Utworzenie uÅ¼ytkownika admin
python quick_create_admin.py

# 5. Uruchomienie serwera
flask run
```

### Konfiguracja SSH (dla hostÃ³w Linux)

```bash
# UtwÃ³rz plik .env na podstawie szablonu
cp .env.example .env

# Edytuj zmienne:
SSH_DEFAULT_HOST=192.168.1.100
SSH_DEFAULT_USER=kali
SSH_DEFAULT_PORT=22
SSH_PASSWORD=your_password
```

### Pierwsze logowanie

1. OtwÃ³rz http://127.0.0.1:5000/login
2. Zaloguj siÄ™: `admin` / `admin`
3. PrzejdÅº do /config i dodaj pierwszy host

---

## ğŸ“ Struktura Projektu

```
minisiem/
â”œâ”€â”€ ğŸ“„ .flaskenv                 # Konfiguracja Flask CLI
â”œâ”€â”€ ğŸ“„ .env.example              # Szablon zmiennych Å›rodowiskowych
â”œâ”€â”€ ğŸ“„ config.py                 # GÅ‚Ã³wna konfiguracja aplikacji
â”œâ”€â”€ ğŸ“„ requirements.txt          # ZaleÅ¼noÅ›ci Python
â”œâ”€â”€ ğŸ“„ quick_create_admin.py     # Skrypt tworzenia admina
â”‚
â”œâ”€â”€ ğŸ“ app/                      # GÅ‚Ã³wny pakiet aplikacji
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py           # Factory pattern (create_app)
â”‚   â”œâ”€â”€ ğŸ“„ extensions.py         # Inicjalizacja rozszerzeÅ„ Flask
â”‚   â”œâ”€â”€ ğŸ“„ models.py             # Modele SQLAlchemy
â”‚   â”œâ”€â”€ ğŸ“„ forms.py              # Formularze WTForms
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ blueprints/           # ModuÅ‚y Flask (Blueprints)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.py           # Logowanie/wylogowanie
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ui.py             # Widoki HTML
â”‚   â”‚   â””â”€â”€ ğŸ“ api/
â”‚   â”‚       â””â”€â”€ ğŸ“„ hosts.py      # REST API
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/             # Warstwa logiki biznesowej
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ remote_client.py  # Klient SSH (paramiko)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ win_client.py     # Klient PowerShell
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ log_collector.py  # Parser logÃ³w
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ data_manager.py   # ObsÅ‚uga Parquet
â”‚   â”‚   â””â”€â”€ ğŸ“„ log_analyzer.py   # Silnik SIEM
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ static/               # Zasoby statyczne
â”‚   â”‚   â”œâ”€â”€ ğŸ“ css/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ style.css     # Style aplikacji
â”‚   â”‚   â””â”€â”€ ğŸ“ js/
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ main.js       # Router JS
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ api.js        # Wrapper Fetch API
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ admin.js      # Panel konfiguracji
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ dashboard.js  # Strona gÅ‚Ã³wna
â”‚   â”‚       â””â”€â”€ ğŸ“„ dom.js        # Helpery DOM
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ templates/            # Szablony Jinja2
â”‚       â”œâ”€â”€ ğŸ“„ base.html         # Layout gÅ‚Ã³wny
â”‚       â”œâ”€â”€ ğŸ“„ index.html        # Dashboard
â”‚       â”œâ”€â”€ ğŸ“„ config.html       # Panel admina
â”‚       â””â”€â”€ ğŸ“„ login.html        # Formularz logowania
â”‚
â”œâ”€â”€ ğŸ“ instance/                 # Dane instancji (SQLite)
â”‚   â””â”€â”€ ğŸ“„ lab8.db               # Baza danych
â”‚
â””â”€â”€ ğŸ“ storage/                  # Archiwum logÃ³w (Parquet)
    â””â”€â”€ ğŸ“„ logs_*.parquet        # Pliki forensic
```

---

## ğŸ”§ ModuÅ‚y Systemu

### 1. Warstwa Danych (Models)

```python
# app/models.py - Schemat bazy danych

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BAZA DANYCH                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    User     â”‚        â”‚    Host     â”‚        â”‚  IPRegistry â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ id (PK)     â”‚        â”‚ id (PK)     â”‚        â”‚ id (PK)     â”‚  â”‚
â”‚  â”‚ username    â”‚        â”‚ hostname    â”‚        â”‚ ip_address  â”‚  â”‚
â”‚  â”‚ password_   â”‚        â”‚ ip_address  â”‚        â”‚ status      â”‚  â”‚
â”‚  â”‚   hash      â”‚        â”‚ os_type     â”‚        â”‚ last_seen   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                â”‚                                 â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                   â”‚            â”‚            â”‚                   â”‚
â”‚                   â–¼            â–¼            â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  LogSource  â”‚  â”‚  LogArchive â”‚  â”‚    Alert    â”‚              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚  â”‚ id (PK)     â”‚  â”‚ id (PK)     â”‚  â”‚ id (PK)     â”‚              â”‚
â”‚  â”‚ host_id(FK) â”‚  â”‚ host_id(FK) â”‚  â”‚ host_id(FK) â”‚              â”‚
â”‚  â”‚ log_type    â”‚  â”‚ filename    â”‚  â”‚ timestamp   â”‚              â”‚
â”‚  â”‚ last_fetch  â”‚  â”‚ record_cnt  â”‚  â”‚ alert_type  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ timestamp   â”‚  â”‚ message     â”‚              â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ severity    â”‚              â”‚
â”‚                                    â”‚ source_ip   â”‚              â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Warstwa UsÅ‚ug (Services)

| Service | OdpowiedzialnoÅ›Ä‡ | Kluczowe metody |
|---------|-----------------|-----------------|
| `RemoteClient` | PoÅ‚Ä…czenia SSH | `run()`, `get_file()` |
| `WinClient` | Komendy PowerShell | `run_ps()`, `get_logs_json()` |
| `LogCollector` | Parsowanie logÃ³w | `get_linux_logs()`, `get_windows_logs()` |
| `DataManager` | Operacje Parquet | `save_logs_to_parquet()`, `load_logs()` |
| `LogAnalyzer` | Korelacja zagroÅ¼eÅ„ | `analyze_parquet()`, `_check_cross_host_attack()` |

### 3. Warstwa API (Blueprints)

```
/api
â”œâ”€â”€ /hosts              GET     - Lista wszystkich hostÃ³w
â”œâ”€â”€ /hosts              POST    - Dodaj nowy host (ğŸ”’)
â”œâ”€â”€ /hosts/<id>         PUT     - Edytuj host (ğŸ”’)
â”œâ”€â”€ /hosts/<id>         DELETE  - UsuÅ„ host (ğŸ”’)
â”œâ”€â”€ /hosts/<id>/ssh-info    GET - Status hosta Linux
â”œâ”€â”€ /hosts/<id>/windows-info GET - Status hosta Windows
â”œâ”€â”€ /hosts/<id>/logs    POST    - Pobierz i analizuj logi
â”œâ”€â”€ /ips                GET     - Lista IP w rejestrze
â”œâ”€â”€ /ips                POST    - Dodaj IP (ğŸ”’)
â”œâ”€â”€ /ips/<id>           PUT     - Edytuj IP (ğŸ”’)
â”œâ”€â”€ /ips/<id>           DELETE  - UsuÅ„ IP (ğŸ”’)
â”œâ”€â”€ /alerts             GET     - Lista alertÃ³w
â””â”€â”€ /alerts/stats       GET     - Statystyki dla wykresÃ³w

ğŸ”’ = wymaga @login_required + CSRF token
```

---

## ğŸ”„ PrzepÅ‚yw Danych

### Sekwencja pobierania i analizy logÃ³w

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚    â”‚   API    â”‚    â”‚ Collectorâ”‚    â”‚ Analyzer â”‚    â”‚Dashboard â”‚
â”‚ (Browser)â”‚    â”‚(Flask)   â”‚    â”‚(Service) â”‚    â”‚(Service) â”‚    â”‚  (JS)    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚ POST /logs    â”‚               â”‚               â”‚               â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚ Check LogSource               â”‚               â”‚
     â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚   SSH/PS      â”‚               â”‚               â”‚
     â”‚               â”‚   Connect     â”‚               â”‚               â”‚
     â”‚               â”‚<â”€ â”€ â”€ â”€ â”€ â”€ â”€>â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚  Raw Logs     â”‚               â”‚               â”‚
     â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚ Save Parquet  â”‚               â”‚               â”‚
     â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚    filename   â”‚               â”‚               â”‚
     â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚        Analyze Parquet        â”‚               â”‚
     â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚        Check IP Registry      â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚  Cross-Host   â”‚               â”‚
     â”‚               â”‚               â”‚  Correlation  â”‚               â”‚
     â”‚               â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚        Create Alerts          â”‚               â”‚
     â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚  JSON Responseâ”‚               â”‚               â”‚               â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚ GET /alerts   â”‚
     â”‚               â”‚               â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚ Update Table  â”‚
     â”‚               â”‚               â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
```

### Algorytm Cross-Host Correlation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CROSS-HOST CORRELATION                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   START: Nowy log z IP "192.168.1.50" na Host A                     â”‚
â”‚      â”‚                                                               â”‚
â”‚      â–¼                                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚ SprawdÅº IP w IPRegistry              â”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                      â”‚                                               â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚      â”‚               â”‚               â”‚                              â”‚
â”‚      â–¼               â–¼               â–¼                              â”‚
â”‚   TRUSTED         UNKNOWN         BANNED                            â”‚
â”‚   (INFO)          (analizuj)      (CRITICAL)                        â”‚
â”‚      â”‚               â”‚               â”‚                              â”‚
â”‚      â”‚               â–¼               â”‚                              â”‚
â”‚      â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                              â”‚
â”‚      â”‚   â”‚ Szukaj alertÃ³w z tego â”‚   â”‚                              â”‚
â”‚      â”‚   â”‚ IP w ostatnich 10 min â”‚   â”‚                              â”‚
â”‚      â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                              â”‚
â”‚      â”‚               â”‚               â”‚                              â”‚
â”‚      â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                              â”‚
â”‚      â”‚   â”‚                       â”‚   â”‚                              â”‚
â”‚      â”‚   â–¼                       â–¼   â”‚                              â”‚
â”‚      â”‚ 1 host                 2+ hosty                              â”‚
â”‚      â”‚ (WARNING)            (AUTO-BAN)                              â”‚
â”‚      â”‚   â”‚                       â”‚   â”‚                              â”‚
â”‚      â”‚   â”‚                       â–¼   â”‚                              â”‚
â”‚      â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚      â”‚   â”‚   â”‚ ZmieÅ„ status na BANNEDâ”‚                              â”‚
â”‚      â”‚   â”‚   â”‚ UtwÃ³rz CRITICAL alert â”‚                              â”‚
â”‚      â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚      â”‚   â”‚                       â”‚                                  â”‚
â”‚      â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚
â”‚                          END                                         â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š Dodatkowa Dokumentacja

- [ğŸ“ ARCHITECTURE.md](./ARCHITECTURE.md) - SzczegÃ³Å‚owa architektura systemu
- [ğŸ”Œ API.md](./API.md) - PeÅ‚na dokumentacja REST API
- [âš™ï¸ DEPLOYMENT.md](./DEPLOYMENT.md) - Instrukcja wdroÅ¼enia
- [ğŸ”’ SECURITY.md](./SECURITY.md) - Mechanizmy bezpieczeÅ„stwa

---

## ğŸ“„ Licencja

```
MIT License

Copyright (c) 2025 Dawid Piotrowski

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software...
```

---

<div align="center">

**Made with â¤ï¸ for Cybersecurity Education**

</div>